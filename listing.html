<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nova Stays KE - Listings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .carousel-btn {
      background-color: rgba(0,0,0,0.4);
      color: white;
      font-size: 14px;
      padding: 4px 10px;
      border-radius: 9999px;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold text-green-600">Nova Stays KE</h1>
    <div class="text-sm text-gray-600">
      Logged in as: <span class="font-semibold" id="userName">John Doe</span> | <span id="userEmail">johndoe@example.com</span>
    </div>
  </header>

  <!-- Top Location Filters -->
  <nav class="flex justify-center gap-3 my-4 px-2">
    <a href="#" class="bg-green-100 text-green-800 px-4 py-1.5 rounded-full text-sm font-medium">Nairobi</a>
    <a href="#" class="bg-green-100 text-green-800 px-4 py-1.5 rounded-full text-sm font-medium">Mombasa</a>
    <a href="#" class="bg-green-100 text-green-800 px-4 py-1.5 rounded-full text-sm font-medium">Zanzibar</a>
    <a href="#" class="bg-green-100 text-green-800 px-4 py-1.5 rounded-full text-sm font-medium">Kisumu</a>
    <a href="#" class="bg-green-100 text-green-800 px-4 py-1.5 rounded-full text-sm font-medium">Nakuru</a>
  </nav>

  <!-- Listings Section -->
  <main class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">

    <!-- Example Listing -->
    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
      <!-- Thumbnail -->
      <img id="carouselThumb1" src="https://source.unsplash.com/400x300/?apartment" class="w-full h-48 object-cover" alt="Listing Image" />

      <!-- Carousel Arrows -->
      <div class="flex justify-center items-center gap-3 mt-1">
        <button onclick="prevImage('1')" class="carousel-btn">←</button>
        <button onclick="nextImage('1')" class="carousel-btn">→</button>
      </div>

      <!-- Details -->
      <div class="p-3">
        <div class="flex items-center justify-between mb-1">
          <div class="flex items-center gap-2">
            <img src="https://i.pravatar.cc/40" class="w-7 h-7 rounded-full" alt="Host">
            <div class="text-xs">
              <p class="font-semibold">Jane Host</p>
              <p class="text-gray-500">Nairobi</p>
            </div>
          </div>
          <div class="text-yellow-500 text-xs">⭐⭐⭐⭐☆ (24)</div>
        </div>

        <h3 class="font-semibold text-sm">Elegant Studio Apartment</h3>
        <p class="text-green-600 font-bold text-sm">USD 40 / night</p>

        <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
          <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
          <span class="bg-gray-200 px-2 py-[2px] rounded-full">TV</span>
          <span class="bg-gray-200 px-2 py-[2px] rounded-full">Parking</span>
          <span class="bg-gray-200 px-2 py-[2px] rounded-full">Hot Shower</span>
        </div>

        <button onclick="bookNow('Elegant Studio Apartment', 40, 'Nairobi')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
      </div>
    </div>

    <!-- Second Listing -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb2" src="https://source.unsplash.com/400x300/?villa" class="w-full h-48 object-cover" alt="Listing Image" />

  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('2')" class="carousel-btn">←</button>
    <button onclick="nextImage('2')" class="carousel-btn">→</button>
  </div>

  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=5" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Michael Host</p>
          <p class="text-gray-500">Mombasa</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐⭐ (30)</div>
    </div>

    <h3 class="font-semibold text-sm">Luxury Beach Villa</h3>
    <p class="text-green-600 font-bold text-sm">USD 120 / night</p>

    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Pool</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Parking</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Breakfast</span>
    </div>

    <button onclick="bookNow('Luxury Beach Villa', 120, 'Mombasa')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>

    <!-- Listing 2 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb2" src="https://source.unsplash.com/400x300/?villa" class="w-full h-48 object-cover" alt="Listing Image" />
  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('2')" class="carousel-btn">←</button>
    <button onclick="nextImage('2')" class="carousel-btn">→</button>
  </div>
  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=5" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Mike Landry</p>
          <p class="text-gray-500">Mombasa</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐⭐ (12)</div>
    </div>
    <h3 class="font-semibold text-sm">Cozy Beach Villa</h3>
    <p class="text-green-600 font-bold text-sm">USD 85 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Pool</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Balcony</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Air Conditioning</span>
    </div>
    <button onclick="bookNow('Cozy Beach Villa', 85, 'Mombasa')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>

<!-- Listing 3 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden max-w-sm mx-auto">
  <!-- Main Image -->
  <img
    id="carouselThumb3"
    src="IMG-20250517-WA0016.jpg"
    class="w-full h-48 object-cover"
    alt="Listing Image"
  />

  <!-- Thumbnails -->
  <div class="flex justify-center items-center gap-2 mt-2 overflow-x-auto">
    <img src="IMG-20250517-WA0016.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 1" />
    <img src="IMG-20250517-WA0010.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 2" />
    <img src="IMG-20250517-WA0007.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 3" />
    <img src="IMG-20250517-WA0012.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 4" />
    <img src="IMG-20250517-WA0017.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 5" />
    <img src="IMG-20250517-WA0014.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 6" />
    <img src="IMG-20250517-WA0011.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 7" />
    <img src="IMG-20250517-WA0013.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 8" />
    <img src="IMG-20250517-WA0009.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 9" />
    <img src="IMG-20250517-WA0018.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 10" />
    <img src="IMG-20250517-WA0008.jpg" class="w-16 h-12 object-cover rounded cursor-pointer" alt="Thumb 11" />
  </div>

  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <!-- Host image replaced with local image IMG1.jpg -->
        <img
          src="IMG-20250509-WA0010.jpg"
          class="w-7 h-7 rounded-full object-cover"
          alt="Host"
        />
        <div class="text-xs">
          <p class="font-semibold">Jacob Fayama</p>
          <p class="text-gray-500">Runda Estate</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐ (18)</div>
    </div>
    <h3 class="font-semibold text-sm">Rustic Mountain Cabin</h3>
    <p class="text-green-600 font-bold text-sm">USD 120 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Fireplace</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Kitchen</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Parking</span>
    </div>
    <button
      onclick="bookNow('Rustic Bogani Luxury', 55, 'Runda Estate')"
      class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md"
    >
      Book Now
    </button>
  </div>
</div>

<!-- Listing 4 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb4" src="https://source.unsplash.com/400x300/?penthouse" class="w-full h-48 object-cover" alt="Listing Image" />
  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('4')" class="carousel-btn">←</button>
    <button onclick="nextImage('4')" class="carousel-btn">→</button>
  </div>
  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=20" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Samuel Otieno</p>
          <p class="text-gray-500">Kisumu</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐⭐ (30)</div>
    </div>
    <h3 class="font-semibold text-sm">Luxury Penthouse Suite</h3>
    <p class="text-green-600 font-bold text-sm">USD 120 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Gym</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Pool</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Parking</span>
    </div>
    <button onclick="bookNow('Luxury Penthouse Suite', 120, 'Kisumu')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>

<!-- Listing 5 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb5" src="https://source.unsplash.com/400x300/?bungalow" class="w-full h-48 object-cover" alt="Listing Image" />
  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('5')" class="carousel-btn">←</button>
    <button onclick="nextImage('5')" class="carousel-btn">→</button>
  </div>
  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=9" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Beatrice Wanja</p>
          <p class="text-gray-500">Zanzibar</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐☆☆ (8)</div>
    </div>
    <h3 class="font-semibold text-sm">Cozy Bungalow</h3>
    <p class="text-green-600 font-bold text-sm">USD 50 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Kitchen</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Garden</span>
    </div>
    <button onclick="bookNow('Cozy Bungalow', 50, 'Zanzibar')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>

<!-- Listing 6 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb6" src="https://source.unsplash.com/400x300/?studio" class="w-full h-48 object-cover" alt="Listing Image" />
  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('6')" class="carousel-btn">←</button>
    <button onclick="nextImage('6')" class="carousel-btn">→</button>
  </div>
  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=15" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Peter Mwangi</p>
          <p class="text-gray-500">Nairobi</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐☆ (14)</div>
    </div>
    <h3 class="font-semibold text-sm">Modern Studio</h3>
    <p class="text-green-600 font-bold text-sm">USD 45 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Air Conditioning</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Parking</span>
    </div>
    <button onclick="bookNow('Modern Studio', 45, 'Nairobi')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>

<!-- Listing 7 -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
  <img id="carouselThumb7" src="https://source.unsplash.com/400x300/?loft" class="w-full h-48 object-cover" alt="Listing Image" />
  <div class="flex justify-center items-center gap-3 mt-1">
    <button onclick="prevImage('7')" class="carousel-btn">←</button>
    <button onclick="nextImage('7')" class="carousel-btn">→</button>
  </div>
  <div class="p-3">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-2">
        <img src="https://i.pravatar.cc/40?img=21" class="w-7 h-7 rounded-full" alt="Host" />
        <div class="text-xs">
          <p class="font-semibold">Lucy Kamau</p>
          <p class="text-gray-500">Kilimani</p>
        </div>
      </div>
      <div class="text-yellow-500 text-xs">⭐⭐⭐⭐⭐ (25)</div>
    </div>
    <h3 class="font-semibold text-sm">Chic Loft Apartment</h3>
    <p class="text-green-600 font-bold text-sm">USD 95 / night</p>
    <div class="flex flex-wrap gap-1 mt-2 text-[11px] text-gray-700">
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">WiFi</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Elevator</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Air Conditioning</span>
      <span class="bg-gray-200 px-2 py-[2px] rounded-full">Balcony</span>
    </div>
    <button onclick="bookNow('Chic Loft Apartment', 95, 'Kilimani')" class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white text-sm py-1.5 rounded-md">Book Now</button>
  </div>
</div>


  </main>

  <!-- Booking Page Redirect Logic -->
  <script>
    function bookNow(name, price, location) {
      // Fetch user info from header dynamically
      const userName = document.getElementById("userName").textContent;
      const userEmail = document.getElementById("userEmail").textContent;

      // Build URL query parameters to pass all required data
      const url = `book.html?listing=${encodeURIComponent(name)}&price=${price}&location=${encodeURIComponent(location)}&user=${encodeURIComponent(userName)}&email=${encodeURIComponent(userEmail)}`;

      // Redirect user to book.html with data in URL
      window.location.href = url;
    }

    // Carousel logic remains unchanged
    const images = [
      "https://source.unsplash.com/400x300/?apartment",
      "https://source.unsplash.com/400x300/?room",
      "https://source.unsplash.com/400x300/?villa",
      "https://source.unsplash.com/400x300/?kitchen",
      "https://source.unsplash.com/400x300/?bathroom",
      "https://source.unsplash.com/400x300/?bedroom",
      "https://source.unsplash.com/400x300/?balcony",
      "https://source.unsplash.com/400x300/?living-room",
      "https://source.unsplash.com/400x300/?pool",
      "https://source.unsplash.com/400x300/?city"
    ];

    let currentImageIndex = 0;

    function updateImage(index, id) {
      const img = document.getElementById(`carouselThumb${id}`);
      img.src = images[index];
    }

    function nextImage(id) {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      updateImage(currentImageIndex, id);
    }

    function prevImage(id) {
      currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
      updateImage(currentImageIndex, id);
    }
  </script>

  <script>
    // On page load, fetch logged in user data from localStorage
    document.addEventListener('DOMContentLoaded', () => {
      const user = JSON.parse(localStorage.getItem('novaLoggedIn'));
      if(user) {
        const userNameElem = document.getElementById('userName');
        const userEmailElem = document.getElementById('userEmail');
        if(userNameElem && userEmailElem){
          userNameElem.textContent = user.name;
          userEmailElem.textContent = user.email;
        }
      }
    });
  </script>

</body>
</html>
